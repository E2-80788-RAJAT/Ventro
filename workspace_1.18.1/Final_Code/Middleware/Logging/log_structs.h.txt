#ifndef __LOG_STRUCTS_H
#define __LOG_STRUCTS_H

#ifdef __cplusplus
extern "C" {
#endif

#include <stdint.h>

#pragma pack(push, 1)
typedef struct {
    uint32_t timestamp;
    uint8_t mode;           // VCV=0, PCV=1, SIMV=2, PSV=3
    float peak_pressure;
    float min_pressure;
    float tidal_volume;
    uint16_t breath_count;
    uint8_t alarm_flags;
    uint8_t crc;            // CRC for data integrity
} VentCycleLog;
#pragma pack(pop)

#ifdef __cplusplus
}
#endif

#endif /* __LOG_STRUCTS_H */
